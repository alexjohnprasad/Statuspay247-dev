<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Join StatusPay 247 as a Poster and start earning by sharing WhatsApp status ads.">
    <meta name="keywords" content="Join, Poster, WhatsApp, Status, Ads, Earn Money">
    <meta name="author" content="StatusPay 247">
    <title>Join as Poster - StatusPay 247</title>
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <link rel="apple-touch-icon" href="assets/favicon.png">
    <link rel="shortcut icon" href="assets/favicon.png">
    <link rel="stylesheet" href="css/styles-cleaned.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script src="js/main.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <a href="/">
                        <img src="assets/logo.png" alt="StatusPay 247 Logo">
                    </a>
                </div>
                <div class="burger-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <ul>
                    <li><a href="index.html#hero">Home</a></li>
                    <li><a href="index.html#what-is-statuspay">About</a></li>
                    <li><a href="index.html#how-it-works">How It Works</a></li>
                    <li><a href="index.html#why-choose-us">Why Choose Us</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                    <li><a href="poster.html">Join as Poster</a></li>
                    <li><a href="advertiser-terms.html">Advertisers</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="join-poster" class="section-light">
            <div class="container">
                <div class="section-title">
                    <h2>Join as a Poster</h2>
                </div>

                <!-- New login card for existing posters -->
                <div class="existing-poster-login">
                    <div class="login-card">
                        <div class="login-card-content">
                            <h3>Already a Poster?</h3>
                            <p>Access your account dashboard, track your earnings, view your tasks, and manage your payments all in one place.</p>
                            <a href="login.html" class="btn login-btn">Login to Your Account</a>
                        </div>
                    </div>
                </div>

                <div class="section-content">
                    <p>Fill out the form below to join StatusPay 247 as a poster and start earning by sharing WhatsApp status ads.</p>
                </div>
                <form id="posterForm" class="form">
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" id="name" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" 
                               id="email" 
                               placeholder="Enter your Gmail address" 
                               required 
                               pattern="[a-zA-Z0-9._%+-]+@gmail\.com$" 
                               title="Please enter a valid Gmail address (example@gmail.com)">
                        <span id="email-error" class="error-message" style="display:none; color:red; font-size:0.9rem; margin-top:5px;">Only Gmail addresses are allowed (example@gmail.com)</span>
                    </div>
                    <div class="form-group">
                        <label>Gender</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" id="genderMale" name="gender" value="Male" required> 
                                <span>Male</span>
                            </label>
                            <label>
                                <input type="radio" id="genderFemale" name="gender" value="Female" required> 
                                <span>Female</span>
                            </label>
                            <label>
                                <input type="radio" id="genderPreferNotToSay" name="gender" value="Prefer not to say" required> 
                                <span>Prefer not to say</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="whatsapp">WhatsApp Number</label>
                        <input type="tel" 
                               id="whatsapp" 
                               placeholder="Enter your WhatsApp number (10 digits)" 
                               required 
                               pattern="^(\+91)?[6-9][0-9]{9}$"
                               title="Please enter a valid Indian mobile number">
                        <span id="phone-error" class="error-message" style="display:none; color:red; font-size:0.9rem; margin-top:5px;">Only Indian WhatsApp numbers are allowed</span>
                    </div>
                    <div class="form-group">
                        <label for="street">Street Address</label>
                        <input type="text" id="street" placeholder="Enter your street address" required>
                    </div>
                    <div class="form-group">
                        <label for="city">City / Town</label>
                        <select id="city" required onchange="handleCityChange()">
                            <option value="">Select City / Town</option>
                            <option value="Thiruvananthapuram">Thiruvananthapuram</option>
                            <option value="Kozhikode">Kozhikode</option>
                            <option value="Kochi">Kochi</option>
                            <option value="Kollam">Kollam</option>
                            <option value="Thrissur">Thrissur</option>
                            <option value="Kannur">Kannur</option>
                            <option value="Alappuzha">Alappuzha</option>
                            <option value="Kottayam">Kottayam</option>
                            <option value="Palakkad">Palakkad</option>
                            <option value="Other">Other (not listed)</option>
                        </select>
                        <div id="otherCityContainer" style="display: none; margin-top: 8px;">
                            <input type="text" id="otherCity" placeholder="Please specify your city/town" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="district">District</label>
                        <select id="district" required onchange="handleDistrictChange()">
                            <option value="">Select District</option>
                            <option value="Alappuzha">Alappuzha</option>
                            <option value="Ernakulam">Ernakulam</option>
                            <option value="Idukki">Idukki</option>
                            <option value="Kannur">Kannur</option>
                            <option value="Kasaragod">Kasaragod</option>
                            <option value="Kollam">Kollam</option>
                            <option value="Kottayam">Kottayam</option>
                            <option value="Kozhikode">Kozhikode</option>
                            <option value="Malappuram">Malappuram</option>
                            <option value="Palakkad">Palakkad</option>
                            <option value="Pathanamthitta">Pathanamthitta</option>
                            <option value="Thiruvananthapuram">Thiruvananthapuram</option>
                            <option value="Thrissur">Thrissur</option>
                            <option value="Wayanad">Wayanad</option>
                            <option value="Other">Other (not listed)</option>
                        </select>
                        <div id="otherDistrictContainer" style="display: none; margin-top: 8px;">
                            <input type="text" id="otherDistrict" placeholder="Please specify your district" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="state">State</label>
                        <input type="text" id="state" value="Kerala" required>
                    </div>
                    <div class="form-group">
                        <label for="pincode">Postal Code</label>
                        <input type="text" id="pincode" placeholder="Enter your postal code" required pattern="\d{6}" title="Please enter a valid 6-digit postal code">
                    </div>
                    <div class="form-group">
                        <label for="country">Country</label>
                        <input type="text" id="country" value="India" required>
                    </div>
                    <div class="form-group">
                        <label for="dob">Date of Birth</label>
                        <input type="date" id="dob" required onchange="validateAge(this)">
                        <span id="age-error" class="error-message" style="display:none; color:red; font-size:0.9rem; margin-top:5px;">You must be at least 18 years old to register.</span>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <div class="password-input-container">
                            <input type="password" id="password" placeholder="Create a strong password" required>
                            <span class="password-toggle" onclick="togglePasswordVisibility('password')">
                                <i class="fas fa-eye"></i>
                            </span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <div class="password-input-container">
                            <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                            <span class="password-toggle" onclick="togglePasswordVisibility('confirmPassword')">
                                <i class="fas fa-eye"></i>
                            </span>
                        </div>
                    </div>

                    <!-- Honeypot field -->
                    <div class="form-group contact-field-hp" aria-hidden="true">
                        <label for="contact-email">Email</label>
                        <input type="text" id="contact-email" name="contact-email" autocomplete="off" tabindex="-1">
                    </div>

                    <div class="captcha-container" style="margin: 20px 0;">
                        <div class="math-challenge" style="display: flex; align-items: center; gap: 8px;">
                            <span id="num1">5</span>
                            <span>+</span>
                            <span id="num2">3</span>
                            <span>=</span>
                            <input type="number" id="captcha-answer" min="0" max="20" required style="width: 60px;">
                            <button type="button" class="captcha-reset" onclick="generateCaptcha()" title="Get New Challenge" style="padding: 6px 10px;">
                                <i class="fas fa-redo"></i> Reset
                            </button>
                        </div>
                    </div>

                    <div class="terms-disclaimer">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="terms-accept" required>
                            <label for="terms-accept">
                                I have read and agree to the <a href="terms-and-conditions-for-posters.html" target="_blank">Terms and Conditions</a>
                            </label>
                        </div>
                        <p class="disclaimer-text">Please carefully read our terms and conditions before proceeding. Your registration indicates acceptance of all terms.</p>
                    </div>

                    <button type="submit" class="btn" id="submit-btn" disabled>Submit Application</button>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>StatusPay 247</h3>
                    <p>Your trusted platform for earning through WhatsApp status ads. Connect with us to start your earning journey today.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html#hero">Home</a></li>
                        <li><a href="index.html#what-is-statuspay">About</a></li>
                        <li><a href="index.html#how-it-works">How It Works</a></li>
                        <li><a href="index.html#why-choose-us">Why Choose Us</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                        <li><a href="poster.html">Join as Poster</a></li>
                        <li><a href="advertiser-terms.html">Advertisers</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <p>Follow us on social media for updates and tips.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/statuspay247" target="_blank"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/statuspay247" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://twitter.com/statuspay247" target="_blank"><i class="fab fa-twitter"></i></a>
                        <a href="https://wa.me/919744483058" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 StatusPay 247. All rights reserved.</p>
                <p class="disclaimer">WhatsApp® is a registered trademark of Meta Platforms, Inc. We are not affiliated with or endorsed by WhatsApp® or Meta Platforms, Inc. The services we provide involve direct WhatsApp status marketing using our network of users, and the use of the WhatsApp® logo or name is strictly for illustrative purposes. All rights to WhatsApp® remain the property of Meta Platforms, Inc.</p>
            </div>
        </div>
    </footer>

    <script>
        function handleCityChange() {
            const citySelect = document.getElementById("city");
            const otherCityContainer = document.getElementById("otherCityContainer");
            
            if (citySelect.value === "Other") {
                otherCityContainer.style.display = "block";
                document.getElementById("otherCity").required = true;
            } else {
                otherCityContainer.style.display = "none";
                document.getElementById("otherCity").required = false;
            }
        }

        function handleDistrictChange() {
            const districtSelect = document.getElementById("district");
            const otherDistrictContainer = document.getElementById("otherDistrictContainer");
            
            if (districtSelect.value === "Other") {
                otherDistrictContainer.style.display = "block";
                document.getElementById("otherDistrict").required = true;
            } else {
                otherDistrictContainer.style.display = "none";
                document.getElementById("otherDistrict").required = false;
            }
        }

        // Generate random CAPTCHA challenge
        function generateCaptcha() {
            const num1 = Math.floor(Math.random() * 10) + 1;
            const num2 = Math.floor(Math.random() * 10) + 1;
            document.getElementById("num1").textContent = num1;
            document.getElementById("num2").textContent = num2;
            document.getElementById("captcha-answer").value = "";
            return { num1, num2 };
        }

        // Initialize CAPTCHA on page load
        let currentCaptcha = generateCaptcha();

        // Improved age validation function
        function validateAge(dobInput) {
            const dob = new Date(dobInput.value);
            const today = new Date();
            
            // Calculate age with milliseconds for more accuracy
            const ageTime = today.getTime() - dob.getTime();
            const ageDate = new Date(ageTime);
            const age = Math.abs(ageDate.getUTCFullYear() - 1970);
            
            const ageError = document.getElementById("age-error");
            const submitBtn = document.getElementById("submit-btn");
            const termsAccepted = document.getElementById("terms-accept").checked;
            
            console.log("Age calculated:", age, "DOB:", dobInput.value);
            
            if (age < 18) {
                ageError.style.display = "block";
                dobInput.setCustomValidity("You must be at least 18 years old to register.");
                submitBtn.disabled = true;
                return false;
            } else {
                ageError.style.display = "none";
                dobInput.setCustomValidity("");
                submitBtn.disabled = !termsAccepted;
                return true;
            }
        }

        // Set the max date to exactly 18 years ago and update it daily
        window.addEventListener('DOMContentLoaded', function() {
            const dobInput = document.getElementById('dob');
            const today = new Date();
            
            // Calculate date 18 years ago from today
            const minYear = today.getFullYear() - 18;
            const minMonth = today.getMonth();
            const minDay = today.getDate();
            
            // Format as YYYY-MM-DD with leading zeros
            const formattedMonth = (minMonth + 1).toString().padStart(2, '0');
            const formattedDay = minDay.toString().padStart(2, '0');
            const maxDate = `${minYear}-${formattedMonth}-${formattedDay}`;
            
            // Set max attribute - this prevents selection of dates after this (younger than 18)
            dobInput.setAttribute('max', maxDate);
            
            console.log("Max date set to:", maxDate, "(updates daily)");
            
            // Add event listener to prevent manual entry of invalid dates
            dobInput.addEventListener('input', function(e) {
                const selectedDate = new Date(this.value);
                const minDate = new Date(minYear, minMonth, minDay);
                
                if (selectedDate > minDate) {
                    this.value = maxDate;
                    alert("You must be at least 18 years old to register.");
                }
            });
        });

        // Add strong Gmail validation
        document.getElementById("email").addEventListener('input', function() {
            const email = this.value.toLowerCase();
            const emailError = document.getElementById("email-error");
            const emailPattern = /[a-zA-Z0-9._%+-]+@gmail\.com$/;
            
            if (email && !emailPattern.test(email)) {
                emailError.style.display = "block";
                this.setCustomValidity("Only Gmail addresses are allowed (example@gmail.com)");
            } else {
                emailError.style.display = "none";
                this.setCustomValidity("");
            }
        });

        // Update terms handler to recheck age validation
        document.getElementById("terms-accept").addEventListener("change", function(event) {
            const submitButton = document.getElementById("submit-btn");
            const dobInput = document.getElementById("dob");
            
            // If DOB is filled, validate age, otherwise just check terms
            if (dobInput.value) {
                validateAge(dobInput);
            } else {
                submitButton.disabled = !this.checked;
            }
        });

        // Password visibility toggle function
        function togglePasswordVisibility(inputId) {
            const passwordInput = document.getElementById(inputId);
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            
            // Toggle the eye icon
            const toggleIcon = document.querySelector('#' + inputId + ' + .password-toggle i');
            if (toggleIcon) {
                toggleIcon.classList.toggle('fa-eye');
                toggleIcon.classList.toggle('fa-eye-slash');
            }
        }

        // Form submission handler
        document.getElementById("posterForm").addEventListener("submit", function(event) {
            event.preventDefault();
            
            // Basic validation
            const email = document.getElementById("email").value.toLowerCase();
            if (!email.endsWith('@gmail.com')) {
                document.getElementById("email-error").style.display = "block";
                document.getElementById("email").focus();
                return;
            }
            
            // Check age
            const dobInput = document.getElementById("dob");
            if (dobInput.value && !validateAge(dobInput)) {
                dobInput.focus();
                return;
            }
            
            // Check terms acceptance
            if (!document.getElementById("terms-accept").checked) {
                alert("Please accept the terms and conditions.");
                return;
            }

            // Check CAPTCHA
            const num1 = parseInt(document.getElementById("num1").textContent);
            const num2 = parseInt(document.getElementById("num2").textContent);
            const answer = parseInt(document.getElementById("captcha-answer").value);
            
            if (answer !== (num1 + num2)) {
                alert("Please solve the math challenge correctly.");
                document.getElementById("captcha-answer").focus();
                return;
            }

            // Check password match
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirmPassword").value;
            
            if (password !== confirmPassword) {
                alert("Passwords do not match.");
                document.getElementById("confirmPassword").focus();
                return;
            }

            alert("Form submitted successfully! (This is a demo - no actual submission occurred)");
            
            // Reset form
            this.reset();
            generateCaptcha();
            handleCityChange();
            handleDistrictChange();
        });
    </script>
</body>
</html>
